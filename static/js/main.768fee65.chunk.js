(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{28:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var s,a,r,i,c,o=n(1),u=n(16),l=n.n(u),d=n(3),h=n(17),b=n(7),j=n(8),f=n(11),p=n(10),g=n(13),m=n.n(g),x=n(22),O=n(18),C=n(4),v=(n(28),n(2)),k=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(b.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={editedName:"",editedEmail:"",editedRole:"",editMode:!1},e.onClickDelete=function(){var t=e.props;(0,t.deleteUser)(t.users.id)},e.saveEditedUser=function(){var t=e.state,n=t.editedName,s=t.editedEmail,a=t.editedRole,r=e.props,i=r.users;(0,r.updateUser)({id:i.id,name:n,email:s,role:a}),e.setState({editMode:!1})},e.onChangeRole=function(t){e.setState({editedRole:t.target.value})},e.onChangeEmail=function(t){e.setState({editedEmail:t.target.value})},e.onChangeName=function(t){e.setState({editedName:t.target.value})},e.onClickEdit=function(){var t=e.props.users,n=t.name,s=t.email,a=t.role;e.setState((function(e){return{editedName:n,editedEmail:s,editedRole:a,editMode:!e.editMode}}))},e.toggleCheckbox=function(){var t=e.props;(0,t.onChangeUserCheckbox)(t.users.id)},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this.state,t=e.editMode,n=e.editedName,s=e.editedEmail,a=e.editedRole,r=this.props.users,i=r.name,c=r.email,o=r.role,u=r.isChecked;return Object(v.jsx)("li",{className:"user-item",children:t?Object(v.jsxs)("div",{className:"editor-mode-container",children:[Object(v.jsx)("input",{className:"username-input",type:"text",value:n,onChange:this.onChangeName,placeholder:"USERNAME"}),Object(v.jsx)("input",{type:"text",className:"user-email-input",value:s,onChange:this.onChangeEmail,placeholder:"EMAIL"}),Object(v.jsx)("input",{type:"text",className:"user-role-input",value:a,onChange:this.onChangeRole,placeholder:"ROLE"}),Object(v.jsx)("button",{type:"button",className:"save-button",onClick:this.saveEditedUser,children:"SAVE"})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("input",{type:"checkbox",checked:u,onChange:this.toggleCheckbox,className:"user-checkbox"}),Object(v.jsx)("p",{className:"user-content",children:i}),Object(v.jsx)("p",{className:"user-content",children:c}),Object(v.jsx)("p",{className:"user-content",children:o}),Object(v.jsxs)("div",{className:"actionsContainer",children:[Object(v.jsx)(O.a,{className:"edit-icon",onClick:this.onClickEdit}),Object(v.jsx)(C.a,{className:"delete-user-icon",onClick:this.onClickDelete})]})]})})}}]),n}(o.Component),S=k,N=n(5),y=n(6),w=y.a.button(s||(s=Object(N.a)(["\n  color: ",";\n  border: 2px solid ",";\n  background-color: ",";\n"])),(function(e){return e.isActive?"#0074d9":"#ffffff"}),(function(e){return e.isActive?"#0074d9":"#ffffff"}),(function(e){return e.isActive?"inherit":"#0074d9"})),D=y.a.button(a||(a=Object(N.a)(["\n  color: ",";\n  border: 2px solid ",";\n  background-color: ",';\n  padding: 12px;\n  font-family: "Roboto";\n  height: 50px;\n  width: 50px;\n  font-weight: 600;\n  border-radius: 50%;\n'])),(function(e){return e.isDisabled?"#fff":"gray"}),(function(e){return e.isDisabled?"#0074d9":"gray"}),(function(e){return e.isDisabled?"#0074d9":"inherit"})),A=y.a.button(r||(r=Object(N.a)(["\n  color: ",";\n  border: 2px solid ",";\n  background-color: ",';\n  padding: 12px;\n  font-family: "Roboto";\n  height: 50px;\n  width: 50px;\n  font-weight: 600;\n  border-radius: 50%;\n'])),(function(e){return e.isDisabled?"#fff":"gray"}),(function(e){return e.isDisabled?"#0074d9":"gray"}),(function(e){return e.isDisabled?"#0074d9":"inherit"})),U=y.a.button(i||(i=Object(N.a)(["\n  color: ",";\n  border: 2px solid ",";\n  background-color: ",';\n  padding: 12px;\n  font-family: "Roboto";\n  height: 50px;\n  width: 50px;\n  font-weight: 600;\n  border-radius: 50%;\n'])),(function(e){return e.isDisabled?"#fff":"gray"}),(function(e){return e.isDisabled?"#0074d9":"gray"}),(function(e){return e.isDisabled?"#0074d9":"inherit"})),E=y.a.button(c||(c=Object(N.a)(["\n  color: ",";\n  border: 2px solid ",";\n  background-color: ",';\n  padding: 12px;\n  font-family: "Roboto";\n  height: 50px;\n  width: 50px;\n  font-weight: 600;\n  border-radius: 50%;\n'])),(function(e){return e.isDisabled?"#fff":"gray"}),(function(e){return e.isDisabled?"#0074d9":"gray"}),(function(e){return e.isDisabled?"#0074d9":"inherit"})),R=(n(32),function(e){for(var t=e.users,n=e.pagesCount,s=e.navigateTo,a=t.length,r=[],i=1;i<=Math.round(a/10);i+=1)r.push(i);var c=r.slice(-1),o=function(e){s(e.target.value)};return Object(v.jsxs)("div",{className:"pagination-container",children:[Object(v.jsx)("button",{className:"delete-selected-button",type:"button",onClick:function(){(0,e.deleteSelected)()},children:"Delete Selected"}),Object(v.jsxs)("ul",{className:"pagination-controls",children:[Object(v.jsx)("li",{children:Object(v.jsx)(D,{isDisabled:0!==n,type:"button",onClick:function(){0!==n&&s(1)},className:"start-navigation-button",children:Object(v.jsx)(C.b,{})})},"doubleLeft"),Object(v.jsx)("li",{children:Object(v.jsx)(A,{isDisabled:0!==n,type:"button",onClick:function(){n>0&&s(n)},className:"previous-navigation-button",children:Object(v.jsx)(C.d,{})})},"left"),r.map((function(e){return Object(v.jsx)("li",{children:Object(v.jsx)(w,{isActive:n===e-1,className:"navigation-button",value:e,type:"button",onClick:o,children:e})},e)})),Object(v.jsx)("li",{children:Object(v.jsx)(U,{isDisabled:n!==c-1,type:"button",onClick:function(){c>n+1&&s(n+2)},className:"forward-navigation-button",children:Object(v.jsx)(C.e,{})})},"right"),Object(v.jsx)("li",{children:Object(v.jsx)(E,{isDisabled:n!==c-1,type:"button",onClick:function(){c-1!==n&&s(c)},className:"end-navigation-button",children:Object(v.jsx)(C.c,{})})},"doubleRight")]})]})}),L=(n(33),"LOADING"),I="SUCCESS",M="FAILED",V=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(b.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={users:[],requestStatus:"LOADING",pagesCount:0,selectAll:!1,userSearchInput:""},e.componentDidMount=function(){e.getUsers()},e.getUsers=Object(h.a)(m.a.mark((function t(){var n,s,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({requestStatus:"LOADING"}),"https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json",t.next=4,fetch("https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json");case 4:if(!0!==(n=t.sent).ok){t.next=13;break}return t.next=8,n.json();case 8:s=t.sent,a=s.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{isChecked:!1})})),e.setState({users:a,requestStatus:"SUCCESS"}),t.next=14;break;case 13:e.setState({requestStatus:"FAILED"});case 14:case"end":return t.stop()}}),t)}))),e.navigateTo=function(t){e.setState({pagesCount:t-1})},e.getCheckedUsers=function(e){return e.map((function(e){return!0===e.isChecked?e.id:null}))},e.deleteSelected=function(){var t=e.state.users,n=e.getCheckedUsers(t),s=t.filter((function(e){return!n.includes(e.id)}));e.setState({users:s,selectAll:!1})},e.onClickDelete=function(t){var n=e.state.users.filter((function(e){return e.id!==t}));e.setState({users:n})},e.updateUser=function(t){var n=e.state.users.map((function(e){return e.id===t.id?t:e}));e.setState({users:n})},e.onChangeMemberCheckbox=function(t){var n=e.state.users.map((function(e){return e.id===t?Object(d.a)(Object(d.a)({},e),{},{isChecked:!e.isChecked}):e}));e.setState({users:n})},e.toggleCheckAllCheckboxes=function(){var t=e.state,n=t.selectAll,s=t.users;e.setState({selectAll:!n});var a=e.getSearchResult(s),r=e.getCurrentPageUsers(a).map((function(e){return e.id}));if(!1===n){var i=s.map((function(e){return r.includes(e.id)?Object(d.a)(Object(d.a)({},e),{},{isChecked:!0}):e}));e.setState({users:i})}else{var c=s.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{isChecked:!1})}));e.setState({users:c})}},e.onChangeUserInputValue=function(t){e.setState({userSearchInput:t.target.value,pagesCount:0})},e.getCurrentPageUsers=function(t){var n=10*e.state.pagesCount;return t.length-n<=10?t.slice(n):t.slice(n,n+10)},e.getSearchResult=function(){var t=e.state,n=t.userSearchInput;return t.users.filter((function(e){return e.name.toLowerCase().startsWith(n.toLowerCase())||e.email.toLowerCase().startsWith(n.toLowerCase())||e.role.toLowerCase().startsWith(n.toLowerCase())}))},e.renderSuccessView=function(){var t=e.state,n=t.users,s=t.pagesCount,a=t.selectAll,r=t.userSearchInput,i=e.getSearchResult(),c=e.getCurrentPageUsers(i);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("input",{type:"search",value:r,onChange:e.onChangeUserInputValue,placeholder:"Search by name, email or role",className:"user-input"}),0===c.length?Object(v.jsx)("div",{children:Object(v.jsx)("img",{src:"https://res.cloudinary.com/aguruprasad/image/upload/v1644149686/no-users-found_3_km6yk0.png",className:"not-found-image",alt:"no users found"})}):Object(v.jsxs)("ul",{className:"users-list",children:[Object(v.jsxs)("li",{className:"list-header",children:[Object(v.jsx)("input",{checked:a,onChange:e.toggleCheckAllCheckboxes,type:"checkbox",className:"header-checkbox"}),Object(v.jsx)("h1",{className:"header-name",children:"Name"}),Object(v.jsx)("h1",{className:"header-email",children:"Email"}),Object(v.jsx)("h1",{className:"header-role",children:"Role"}),Object(v.jsx)("h1",{className:"header-actions",children:"Actions"})]}),c.map((function(t){return Object(v.jsx)(S,{users:t,updateUser:e.updateUser,deleteUser:e.onClickDelete,onChangeUserCheckbox:e.onChangeUserCheckbox},t.id)}))]}),Object(v.jsx)(R,{users:n,deleteSelected:e.deleteSelected,pagesCount:s,navigateTo:e.navigateTo})]})},e.renderLoadingView=function(){return Object(v.jsx)("div",{className:"loader-container","data-testid":"loader",children:Object(v.jsx)(x.a,{height:50,width:50})})},e.renderAdminPage=function(){switch(e.state.requestStatus){case L:return e.renderLoadingView();case I:return e.renderSuccessView();case M:return e.renderFailureView();default:return null}},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"background-container",children:Object(v.jsx)("div",{className:"admin-page",children:this.renderAdminPage()})})}}]),n}(o.Component),q=V,F=(n(34),function(){return Object(v.jsx)(q,{})}),P=document.getElementById("root");l.a.render(Object(v.jsx)(o.StrictMode,{children:Object(v.jsx)(F,{})}),P)}},[[35,1,2]]]);
//# sourceMappingURL=main.768fee65.chunk.js.map